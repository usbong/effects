<!--
/*
' Copyright 2022~2025 USBONG
'
' Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You ' may obtain a copy of the License at
'
' http://www.apache.org/licenses/LICENSE-2.0
'
' Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, ' WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing ' permissions and limitations under the License.
'
' @company: USBONG
' @author: SYSON, MICHAEL B.
' @date created: 20221214
' @date updated: 20250930; from 20250929
' @website: www.usbong.ph
'
'
' Notes:
' 1) website address: http://localhost/usbong_2DAnimationTool/html_application/usbongBackgroundEffect.html
'
*/
-->

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
<!-- TO-DO: -update: this -->
<!-- //edited by Mike, 20230314 //TO-DO: -add: option to set IF from internet
-->
<!--
  	<base href="http://localhost/usbong_2DAnimationTool/" target="_blank">
-->

<!--
  	<base href="http://store.usbong.ph/" target="_blank">
-->
  </head>

  <title>
    Usbong Motion Tween Tool
  </title>

  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

  <style type="text/css">  
		html, body
        {
            font-family: Arial;
			font-size: 11pt;
				
			width: 100%;
			height: 100%;
										
			padding: 0;
			margin: 0;
			
			/* //added by Mike, 20221002
			//reference: https://www.w3schools.com/howto/howto_css_disable_text_selection.asp;
			//last accessed: 20221002
			*/
			
			-webkit-user-select: none; /* Safari */
			-ms-user-select: none; /* IE 10 and IE 11 */
			user-select: none; /* Standard syntax */
			
			/* added by Mike, 20221012 */
			transform: scale(1.0);
			
			/* added by Mike, 20221119 */							
			touch-action: none;
		}  
  
		canvas.myCanvas {
			position: absolute;

			padding: 0;
			margin: auto;
			display: block;

			width: 640px;
			height: 360px;

			border: 1px solid gray;

			z-index: -1;
		}

		.ImageTileFrame1 {
			position: absolute;
  			clip: rect(0px,32px,32px,0px);
			
			visibility: hidden;			
		}

		.ButtonSet, .TextInputSet {		
			position: relative; /*absolute;*/			
			font-size: 20px;
		}
		
		.LabelSet {		
			position: relative; /*absolute;*/			
			font-size: 24px;
			
			font-weight: bolder; /*bold;*/
		}		
		
		.SelectAnimDirection {
			font-size: 22px;
		}
		
		table.TableSetPanel
		{
			position: absolute;
			border: 2px dotted #ab9c7d;		
			margin-top: 0px; /*10px*/
			
			visibility: hidden;
		}						

		
  </style>

  <script>  
	//added by Mike, 20221214
	var iCountMovementStep=0;
	const iCountInitMovementStepMax=15;
	const iCountMovementStepMax=100-iCountInitMovementStepMax;
	//edited by Mike, 20230421; from 20230418
	var iCountMovementStepDelay=0;
	const iCountMovementStepDelayMax=10;

	//added by Mike, 20230421
	//SOH-CAH-TOA
	//note: Max increase incrementally angle to end destination
	const iCountMovementDiagonalStepMax=5; //10 
	var iCountMovementDiagonalStep=iCountMovementDiagonalStepMax;
	var iMainImageTileStepAngle=0;
	
	var iPrevDirection=0;
	var bIsInitAutoGeneratePuzzleFromEnd=true;
	
	const iKEY_W = 0;
	const iKEY_S = 1;
	const iKEY_A = 2;
	const iKEY_D = 3;

	//edited by Mike, 20230418
/*
	const iKEY_I = 4;
	const iKEY_K = 5;
	const iKEY_J = 6;
	const iKEY_L = 7;
*/

	//added by Mike, 20230418
	const iKEY_Q = 4; //TOP-LEFT
	const iKEY_E = 5; //TOP-RIGHT
	const iKEY_C = 6; //BOTTOM-RIGHT
	const iKEY_Z = 7; //BOTTOM-LEFT
	
	const iKEY_I = 8;
	const iKEY_K = 9;
	const iKEY_J = 10;
	const iKEY_L = 11;

	//edited by Mike, 20230418
	const iTotalKeyCount = 12; //8; //4;	
	const iDirectionTotalKeyCount = 8; //4;	
	
	//added by Mike, 20230421
	var iDirection=-1;
	
	var arrayCountMovementStep= [];
	
	//added by Mike, 20230311
	var iFacingDirection=0;
	
	const iFACING_DOWN=0;
	const iFACING_UP=1;
	const iFACING_LEFT=2;
	const iFACING_RIGHT=3;	

	//edited by Mike, 20230314
	//note: VALUES set in init()
	//const iTotalAnimImageFrameCount=2;//6;
	var iTotalAnimImageFrameCount;//=4;//6;
	var iAnimImageFrameCount;//=0;	 
	
	var iDefaultAnimationImageX;//=0; //default x
	var iDefaultAnimationImageY;//=0;//-32; //default y
	
//	var iTotalAnimImageFrameCount=4;

	/*	//removed by Mike, 20230312
	var iImageFrameSizeX=0;
	var iImageFrameSizeY=32;
*/
	//added by Mike, 20230315
	//edited by Mike, 20230418
	//var iAnimImageDirection=0; //vertical
	var iAnimImageDirection=1; //horizontal

	const AnimImageDirection_VERTICAL=0;
	const AnimImageDirection_HORIZONTAL=1;

	
	var bIsWalkingAction=true; //false; 
		
	//edited by Mike, 20221129
	//1000/60=16.66; 60 frames per second
	//1000/30=33.33; 30 frames 
	const fFramesPerSecondDefault=16.66;
	//const fFramesPerSecondDefault=33.33;
	var fFramesPerSecond=fFramesPerSecondDefault;
	var iCurrentIntervalId=-1;	

	//edited by Mike, 20230315; from 20230311
	//adds 6 frames before frame update
	var iDelayAnimationCountMovementStep=0;
	var iDelayAnimationCountMovementStepMax=12; //6; 

	//edited by Mike, 20250930; from 20250929
	const iTotalImageTileCount=24;//18; //12;//4;
	
	var arrayMainImageTile = [];
	
	var arrayMainImageTilePosX = [];
	var arrayMainImageTilePosY = [];

	for (iCount=0; iCount<iTotalImageTileCount; iCount++) {
		//arrayMainImageTile[iCount]=document.getElementById("mainImageTileImageId"+iCount);
	
		arrayMainImageTilePosX[iCount]=0;
		arrayMainImageTilePosY[iCount]=0;
	}
	
/*
	var mainImageTilePosX=0;
	var mainImageTilePosY=0;
	
	var mainImageTilePosX2=0;
	var mainImageTilePosY2=0;

	var mainImageTilePosX3=0;
	var mainImageTilePosY3=0;

	var mainImageTilePosX4=0;
	var mainImageTilePosY4=0;
*/


	//edited by Mike, 20250929; from 20230418
	var mainImageTileStepX=1;//1; //2;
	//TODO: -update: this
	var mainImageTileStepY=1;//0;//2; //2;
		
	//edited by Mike, 20230314
/*	
	const iStageMaxWidth=160*2; //160;
	const iStageMaxHeight=144*2; //144;
*/
	//TO-DO: -add: auto-update Canvas' width and height to be EXACT
	var iStageMaxWidth=640; //448; //640;
	var iStageMaxHeight=360; //402; //576;

	var iHorizontalOffset=0;
	var iVerticalOffset=0;

	//note: for INNER SCREEN
	iHorizontalOffset=(screen.width)/2-iStageMaxWidth/2;	
	iVerticalOffsetInnerScreen=0;


	//added by Mike, 20230410
	//reference: timeoff.php
	//TO-DO: -update: this
	//note: Carnage Heart from Videogame Magazines, Artificial Intelligence 
	//edited by Mike, 20230418
//	function autoGeneratePuzzleFromEnd() {
	//added: diagonal; combination of horizontal and vertical movements
	//TO-DO: -verify: ellipse movement;
	function autoIdentifyNextDirectionAI() {
		//edited by Mike, 20230418
		//sRecordedSteps="3121220312133003112111302212133333303312003030030303133122112122121303033033311212002";

		//edited by Mike, 20230419
		//sRecordedSteps="6666666666133003112111302212133333303312003030030303133122112122121303033033311212002";
		//edited by Mike, 20230421
//		sRecordedSteps="111111111116633333333333550000004422222222220";
//		sRecordedSteps="66";
//		sRecordedSteps="663355";//004422";
//		sRecordedSteps="66666663355";//004422";
		sRecordedSteps="6666666333550004422277111";

/*
		var puzzleRecordedStepsSpan = document.getElementById("puzzleRecordedStepsId");
		sRecordedSteps=puzzleRecordedStepsSpan.innerHTML;
*/
		
	/*
		arrayKeyPressed[iKEY_A]=true;	
		arrayKeyPressed[iKEY_K]=true;
	*/

/* //added by Mike, 20230418
		mainImageTileStepX=2;
		mainImageTileStepY=0;
				
		return;
*/	
		
		//reference: https://www.w3schools.com/jsref/jsref_random.asp;
		//last accessed: 20221108
		//number between 0 and 4; integer only	
	//	for (iCount=0; iCount<iCountMovementStepMax; iCount++) {
		
		if (iCountMovementStepDelay<iCountMovementStepDelayMax) {
			iCountMovementStepDelay=iCountMovementStepDelay+1;
			return;
		}
		else {
			iCountMovementStepDelay=0;
		}
		
		if (iCountMovementStep<iCountMovementStepMax) {
			
			//edited by Mike, 20221214; from 20221129
			//random
			//let iDirection = window.parseInt(Math.random() * 4);	
			
			//OK
			//edited by Mike, 20230421
			//let iDirection=parseInt(sRecordedSteps.substr(iCountMovementStep,1));		
			iDirection=parseInt(sRecordedSteps.substr(iCountMovementStep,1));		
						
			switch (iDirection) {
				case iKEY_W: //0
/*
					arrayKeyPressed[iKEY_W]=true;	
					arrayKeyPressed[iKEY_K]=true;						
*/					
					mainImageTileStepX=0;
					mainImageTileStepY=-2;
					
					//added by Mike, 20230421
					//iMainImageTileStepAngleiMainImageTileStepAngle=0;					
					break;	
				case iKEY_S: //1
/*
					arrayKeyPressed[iKEY_S]=true;	
					arrayKeyPressed[iKEY_K]=true;
*/
					mainImageTileStepX=0;
					mainImageTileStepY=2;

					//added by Mike, 20230421
					//iMainImageTileStepAngle=0;					
					break;	
				case iKEY_A: //2
/*
					arrayKeyPressed[iKEY_A]=true;	
					arrayKeyPressed[iKEY_K]=true;
*/					
					mainImageTileStepX=-2;
					mainImageTileStepY=0;

					//added by Mike, 20230421
					//iMainImageTileStepAngle=0;					
					break;	
				case iKEY_D: //3
/*
					arrayKeyPressed[iKEY_D]=true;	
					arrayKeyPressed[iKEY_K]=true;
*/					
					mainImageTileStepX=2;
					mainImageTileStepY=0;

					//added by Mike, 20230421
					//iMainImageTileStepAngle=0;					
					break;	

				//DIAGONAL PART
				case iKEY_Q: //4; TOP-LEFT
					mainImageTileStepX=-2;
					mainImageTileStepY=-2;
					
					//added by Mike, 20230421
					iMainImageTileStepAngle=90+45;

/*					//removed by Mike, 20230422					
					if (iCountMovementDiagonalStep<iCountMovementDiagonalStepMax) {
						iCountMovementDiagonalStep++;
						return;
					}
					else {
						iCountMovementDiagonalStep=0;
					}
*/					
					break;	
				case iKEY_E: //5; TOP-RIGHT
					mainImageTileStepX=2;
					mainImageTileStepY=-2;

					//added by Mike, 20230421
					//alert(iMainImageTileStepAngle);
					//alert("iCountMovementDiagonalStep: "+iCountMovementDiagonalStep);
					
					//iMainImageTileStepAngle=(360-iMainImageTileStepAngle)+45;
					iMainImageTileStepAngle=45;

/*					//removed by Mike, 20230422
					if (iCountMovementDiagonalStep<iCountMovementDiagonalStepMax) {
						iCountMovementDiagonalStep++;
						return;
					}
					else {
						iCountMovementDiagonalStep=0;
					}
*/					
					break;	
				case iKEY_C: //6; BOTTOM-RIGHT
					mainImageTileStepX=2;
					mainImageTileStepY=2;
					
					//alert(iCountMovementDiagonalStep);

					//added by Mike, 20230421
					iMainImageTileStepAngle=270+45;

/*					//removed by Mike, 20230422
					if (iCountMovementDiagonalStep<iCountMovementDiagonalStepMax) {
						iCountMovementDiagonalStep++;
						return;
					}
					else {
						iCountMovementDiagonalStep=0;
					}
*/					
					break;	
				case iKEY_Z: //7; BOTTOM-LEFT
					mainImageTileStepX=-2;
					mainImageTileStepY=2;					

					//added by Mike, 20230421
					iMainImageTileStepAngle=180+45;

/*					//removed by Mike, 20230422
					if (iCountMovementDiagonalStep<iCountMovementDiagonalStepMax) {
						iCountMovementDiagonalStep++;
						return;
					}
					else {
						iCountMovementDiagonalStep=0;
					}
*/					
					break;						
			}
	
/*	
			//added by Mike, 20221214
			arrayCountMovementStep[iCountMovementStep]=iDirection;
*/				
			
			iCountMovementStep++;
		}	
		else {		
			bIsInitAutoGeneratePuzzleFromEnd=false;

	/*		//TO-DO: -add: in Database, with datetime stamp
			//added by Mike, 20221214
			var sRecordedSteps="";
			
			for (let iCount=0; iCount<iCountMovementStep; iCount++) {		
				sRecordedSteps=sRecordedSteps.concat(arrayCountMovementStep[iCount]);
			}
			
			
			//OK
			//example output: 3121220312133003112111302212133333303312003030030303133122112122121303033033311212002
			alert(sRecordedSteps);
	*/				
		}	
		
	}
	
	

	//added by Mike, 20230312	
	//TO-DO: -update: variable container names
	//TO-DO: -fix: SET button NOT focused on SAFARI
	function init() {			
		//TO-DO: -update: this; add in window, input boxes 
		//note: parameters		
		iDefaultAnimationImageX=0;//-32; //default x		
 		iDefaultAnimationImageY=0;//-32; //default y

		//edited by Mike, 20250929; from 20230418
		//iTotalAnimImageFrameCount=4;//2;
		iTotalAnimImageFrameCount=1;//2;

		//edited by Mike, 20250929; from 20230322
		iImageFrameWidth=128; //64;// 32; //0;
		iImageFrameHeight=128;//64;// 32;		

		//var mainImageTile = document.getElementById("mainImageTileImageId");
		
		for (iCount=0; iCount<iTotalImageTileCount; iCount++) {
			arrayMainImageTile[iCount]=document.getElementById("mainImageTileImageId"+(iCount));
			arrayMainImageTilePosX[iCount]=0;
			arrayMainImageTilePosY[iCount]=0;
		}
		
		//TODO: -update: this
		iHorizontalOffset=0;
		iVerticalOffsetInnerScreen=0;
		
		var iCurrColumn=0;
		var iCurrRow=-1;//0; to start at zero
	
		//from left to right
		for (iCount=0; iCount<iTotalImageTileCount; iCount++) {
			if (iCurrRow>=3) { //max 3 per row
				iCurrColumn++;
				iCurrRow=0;
			}
			else {
				iCurrRow++;
			}

//alert(iCurrRow);

			arrayMainImageTilePosX[iCount]=(iHorizontalOffset)+iImageFrameWidth*(iCurrColumn-1);	
			arrayMainImageTile[iCount].style.left=arrayMainImageTilePosX[iCount]+"px";
			
			arrayMainImageTilePosY[iCount]=(iVerticalOffsetInnerScreen)+iImageFrameHeight*(iCurrRow);	
			arrayMainImageTile[iCount].style.top=arrayMainImageTilePosY[iCount]+"px";
			
		}
	}
	
	function myUpdateFunction() {	
/*	
		var mainImageTile = document.getElementById("mainImageTileImageId");
		var mainImageTile2 = document.getElementById("mainImageTileImageId2");
		var mainImageTile3 = document.getElementById("mainImageTileImageId3");
		var mainImageTile4 = document.getElementById("mainImageTileImageId4");
*/
		for (iCount=0; iCount<iTotalImageTileCount; iCount++) {
			arrayMainImageTile[iCount]=document.getElementById("mainImageTileImageId"+(iCount));
			
			//alert(iCount+": "+arrayMainImageTile[iCount].style.left);
		}
		
		//added by Mike, 20230313
		//reference: https://www.w3schools.com/tags/canvas_fillrect.asp; 
		//last accessed: 2020911
		var myCanvas = document.getElementById("myCanvasId");
		var myCanvasContext = myCanvas.getContext("2d");
		
		//myCanvasContext.fillStyle = "#000000"; //black; //"#ababab"; //"rgb(128,89,27)"; //"#604122"; //"blue";	
		
		//myCanvasContext.fillStyle = "#c5c5c5"; //gray
		myCanvasContext.fillStyle = "#ffffff"; //white background//stage
		
		myCanvasContext.fillRect(0, 0, iStageMaxWidth, iStageMaxHeight);	
	
//alert (iHorizontalOffset);

		//added by Mike, 20221002; edited by Mike, 20221005
		//myCanvas.style.top = (0)+"px"; //iVerticalOffset+
		myCanvas.style.top = (iVerticalOffsetInnerScreen+0)+"px"; //iVerticalOffset+

		//added by Mike, 20221012
		iHorizontalOffset=myCanvas.getBoundingClientRect().x;
		
		//added by Mike, 20250930; from 20250929
/*
		mainImageTile.style.clip = "rect(0px "+iImageFrameWidth+"px "+iImageFrameHeight+"px 0px)"; 
		mainImageTile2.style.clip = "rect(0px "+iImageFrameWidth+"px "+iImageFrameHeight+"px 0px)"; 
		mainImageTile3.style.clip = "rect(0px "+iImageFrameWidth+"px "+iImageFrameHeight+"px 0px)"; 
		mainImageTile4.style.clip = "rect(0px "+iImageFrameWidth+"px "+iImageFrameHeight+"px 0px)"; 
*/
		for (iCount=0; iCount<iTotalImageTileCount; iCount++) {
/*
			alert(">>>"+iCount);
			
			alert("iImageFrameWidth: "+iImageFrameWidth);
			alert("iImageFrameHeight: "+iImageFrameHeight);
*/			
			arrayMainImageTile[iCount].style.clip = "rect(0px "+iImageFrameWidth+"px "+iImageFrameHeight+"px 0px)"; 	
		}

		//alert("DITO!!!!");

/*
		// Clip a rectangular area
		mainImageTileCtx.rect(0, 0, iImageFrameWidth, iImageFrameHeight);
*/
		
			//alert("dito");
			
		//notes: delay before CHANGE in frame
		//adds max (12) frames before frame update
		if (iDelayAnimationCountMovementStep<iDelayAnimationCountMovementStepMax) {
			iDelayAnimationCountMovementStep++;
		}
		else {
			iDelayAnimationCountMovementStep=0;
						


			if (animDirectionSelectedIndex==AnimImageDirection_VERTICAL) {
/*			
				mainImageTile.style.objectPosition=(iDefaultAnimationImageX-(0))+"px "+
										   	(iDefaultAnimationImageY-(iAnimImageFrameCount*iImageFrameHeight))+"px";
*/
				for (iCount=0; iCount<iTotalImageTileCount; iCount++) {
					arrayMainImageTile[iCount].style.objectPosition=(iDefaultAnimationImageX-(0))+"px "+
										   	(iDefaultAnimationImageY-(iAnimImageFrameCount*iImageFrameHeight))+"px";
				}
			}
			//AnimImageDirection_HORIZONTAL
			else {
/*			
				mainImageTile.style.objectPosition=(iDefaultAnimationImageX-(iAnimImageFrameCount*iImageFrameWidth))+"px "+(iDefaultAnimationImageY-(0))+"px";	
*/
				for (iCount=0; iCount<iTotalImageTileCount; iCount++) {
					arrayMainImageTile[iCount].style.objectPosition=(iDefaultAnimationImageX-(iAnimImageFrameCount*			iImageFrameWidth))+"px "+(iDefaultAnimationImageY-(0))+"px";	
				}
			}
			
			if (iAnimImageFrameCount<(iTotalAnimImageFrameCount-1)) {	
				iAnimImageFrameCount++;
			}
			else {
				iAnimImageFrameCount=0;
			}			
		}

/*		
		mainImageTile.style.left = (iHorizontalOffset)+arrayMainImageTilePosX[0]+"px";		
		mainImageTile.style.top = (iVerticalOffsetInnerScreen)+arrayMainImageTilePosY[0]+"px";	

		mainImageTile2.style.left = (iHorizontalOffset)+arrayMainImageTilePosX[1]+"px";		
		mainImageTile2.style.top = (iVerticalOffsetInnerScreen)+arrayMainImageTilePosY[1]+iImageFrameHeight+"px";	

		mainImageTile3.style.left = (iHorizontalOffset)+arrayMainImageTilePosX[2]+"px";		
		mainImageTile3.style.top = (iVerticalOffsetInnerScreen)+arrayMainImageTilePosY[2]+iImageFrameHeight*2+"px";	

		mainImageTile4.style.left = (iHorizontalOffset)+arrayMainImageTilePosX[3]+"px";		
		mainImageTile4.style.top = (iVerticalOffsetInnerScreen)+arrayMainImageTilePosY[3]+iImageFrameHeight*3+"px";	
*/

/*
		for (iCount=0; iCount<iTotalImageTileCount; iCount++) {
			arrayMainImageTile[iCount].style.left=(iHorizontalOffset)+arrayMainImageTilePosX[iCount]+"px";	
			arrayMainImageTile[iCount].style.top = (iVerticalOffsetInnerScreen)+arrayMainImageTilePosY[iCount]+iImageFrameHeight*iCount+"px";	
		}
*/

/*
		var iCurrColumn=0;
		var iCurrRow=0;

		for (iCount=0; iCount<iTotalImageTileCount; iCount++) {
			if (iCount%3==0) { //max 3 per row
				iCurrColumn++;
				iCurrRow=0;
			}
			else {
				iCurrRow++;
			}
		
			arrayMainImageTile[iCount].style.left=(iHorizontalOffset)+arrayMainImageTilePosX[iCount]+iImageFrameWidth*iCurrColumn+"px";	
			arrayMainImageTile[iCount].style.top = (iVerticalOffsetInnerScreen)+arrayMainImageTilePosY[iCount]+iImageFrameHeight*iCurrRow+"px";	
		}
*/

		//edited by Mike, 20230418
		//autoIdentifyNextDirectionAI();

		if (iCountMovementDiagonalStep<iCountMovementDiagonalStepMax) {
			//alert(iCountMovementDiagonalStep);
			
			//edited by Mike, 20230421
			//convert degrees to radians; input to Math.sin, Math.cos
			//reference: https://www.w3schools.com/python/ref_math_sin.asp;
			//last accessed: 20230421
			//edited by Mike, 20230422			
			//incorrect function
			//var fMainImageTileStepAngleRad=Math.radians(iMainImageTileStepAngle);
			//correct equation
			var fMainImageTileStepAngleRad=iMainImageTileStepAngle*Math.PI/180.0;			
			//notes: error due to not the expected output; 
			return;
			
			//TO-DO: -update: this; corners; curved; 
/*			
			arrayMainImageTilePosY[0]+=arrayMainImageTilePosX[0]/Math.sin(fMainImageTileStepAngleRad);
			arrayMainImageTilePosX[0]+=arrayMainImageTilePosY[0]/Math.cos(fMainImageTileStepAngleRad);

			arrayMainImageTilePosY[1]+=arrayMainImageTilePosX[1]/Math.sin(fMainImageTileStepAngleRad);
			arrayMainImageTilePosX[1]+=arrayMainImageTilePosY[1]/Math.cos(fMainImageTileStepAngleRad);

			arrayMainImageTilePosY[2]+=arrayMainImageTilePosX[2]/Math.sin(fMainImageTileStepAngleRad);
			arrayMainImageTilePosX[2]+=arrayMainImageTilePosY[2]/Math.cos(fMainImageTileStepAngleRad);

			arrayMainImageTilePosY[3]+=arrayMainImageTilePosX[3]/Math.sin(fMainImageTileStepAngleRad);
			arrayMainImageTilePosX[3]+=arrayMainImageTilePosY[3]/Math.cos(fMainImageTileStepAngleRad);
*/
			for (iCount=0; iCount<iTotalImageTileCount; iCount++) {
				arrayMainImageTilePosY[iCount]+=arrayMainImageTilePosX[iCount]/Math.sin(fMainImageTileStepAngleRad);
				arrayMainImageTilePosX[iCount]+=arrayMainImageTilePosY[iCount]/Math.cos(fMainImageTileStepAngleRad);
			}

			iCountMovementDiagonalStep++;
		}
		else {
/*			
			mainImageTilePosX+=mainImageTileStepX; //horizontal movement;
			mainImageTilePosY+=mainImageTileStepY; //goes downward; vertical

			mainImageTilePosX2+=mainImageTileStepX; //horizontal movement;
			mainImageTilePosY2+=mainImageTileStepY; //goes downward; vertical

			mainImageTilePosX3+=mainImageTileStepX; //horizontal movement;
			mainImageTilePosY3+=mainImageTileStepY; //goes downward; vertical

			mainImageTilePosX4+=mainImageTileStepX; //horizontal movement;
			mainImageTilePosY4+=mainImageTileStepY; //goes downward; vertical
*/
			for (iCount=0; iCount<iTotalImageTileCount; iCount++) {
				arrayMainImageTilePosX[iCount]+=mainImageTileStepX;
				arrayMainImageTilePosY[iCount]+=mainImageTileStepY;
			}

		}

		
		//TO-DO: -add: function; AI; Artificial Intelligence
		//combination of forward, diagonal movements
				
				
		const iOffsetY=24; //due to 64x64 tile; 360 stage height; 
		
		//STAGE; MAX
		for (iCount=0; iCount<iTotalImageTileCount; iCount++) {
			if (arrayMainImageTilePosX[iCount]>iStageMaxWidth) {
				arrayMainImageTilePosX[iCount]=0-iImageFrameWidth;
			}
			
			if (arrayMainImageTilePosY[iCount]-iOffsetY>iStageMaxHeight) {
				arrayMainImageTilePosY[iCount]=0-iImageFrameHeight;
			}
		}	
		
		for (iCount=0; iCount<iTotalImageTileCount; iCount++) {
			arrayMainImageTile[iCount].style.left = arrayMainImageTilePosX[iCount]+"px";	
			arrayMainImageTile[iCount].style.top = arrayMainImageTilePosY[iCount]+"px";	

			//arrayMainImageTile[iCount].style.left=(iHorizontalOffset)+arrayMainImageTilePosX[iCount]+"px";	
			//arrayMainImageTile[iCount].style.top = (iVerticalOffsetInnerScreen)+arrayMainImageTilePosY[iCount]+"px";	
		}
	
		//arrayMainImageTile[0].style.left = arrayMainImageTilePosX[0]+"px";	
		//arrayMainImageTile[0].style.top = arrayMainImageTilePosY[0]+"px";	
		//arrayMainImageTile[1].style.left = arrayMainImageTilePosX[1]+"px";	
		//arrayMainImageTile[1].style.top = arrayMainImageTilePosY[1]+"px";	
		
		
		
		
		//added by Mike, 20250930; from 20250929
/*
		mainImageTile.style.visibility = "visible";
		mainImageTile2.style.visibility = "visible";
		mainImageTile3.style.visibility = "visible";
		mainImageTile4.style.visibility = "visible";
*/
		for (iCount=0; iCount<iTotalImageTileCount; iCount++) {
			arrayMainImageTile[iCount].style.visibility = "visible";
		}

		setPanelTable.style.left = (iHorizontalOffset+iStageMaxWidth)+"px";	
		setPanelTable.style.top = (iVerticalOffsetInnerScreen)+"px"; //+iStageMaxHeight
	}
	
	
	
	function onLoad() {
		init();

		iFacingDirection=iFACING_DOWN;
		
		fFramesPerSecond=16.66; //100.00; //16.66;				
		clearInterval(iCurrentIntervalId);
		iCurrentIntervalId=setInterval(myUpdateFunction, fFramesPerSecond);
	}
	
  </script>  
  <body id="myBodyId" onload="onLoad();">
  
	<canvas id="myCanvasId" class="myCanvas">
	</canvas>
	<img id="mainImageTileImageId0" class="ImageTileFrame1" src="assets/images/inputImageNew.png">	
	<img id="mainImageTileImageId1" class="ImageTileFrame1" src="assets/images/inputImageNew.png">	
	<img id="mainImageTileImageId2" class="ImageTileFrame1" src="assets/images/inputImageNew.png">	
	<img id="mainImageTileImageId3" class="ImageTileFrame1" src="assets/images/inputImageNew.png">	
	<img id="mainImageTileImageId4" class="ImageTileFrame1" src="assets/images/inputImageNew.png">	
	<img id="mainImageTileImageId5" class="ImageTileFrame1" src="assets/images/inputImageNew.png">	
	
	<img id="mainImageTileImageId6" class="ImageTileFrame1" src="assets/images/inputImageNew.png">	
	<img id="mainImageTileImageId7" class="ImageTileFrame1" src="assets/images/inputImageNew.png">	
	<img id="mainImageTileImageId8" class="ImageTileFrame1" src="assets/images/inputImageNew.png">	
	<img id="mainImageTileImageId9" class="ImageTileFrame1" src="assets/images/inputImageNew.png">	
	<img id="mainImageTileImageId10" class="ImageTileFrame1" src="assets/images/inputImageNew.png">	
	<img id="mainImageTileImageId11" class="ImageTileFrame1" src="assets/images/inputImageNew.png">	

	<img id="mainImageTileImageId12" class="ImageTileFrame1" src="assets/images/inputImageNew.png">	
	<img id="mainImageTileImageId13" class="ImageTileFrame1" src="assets/images/inputImageNew.png">	
	<img id="mainImageTileImageId14" class="ImageTileFrame1" src="assets/images/inputImageNew.png">	
	<img id="mainImageTileImageId15" class="ImageTileFrame1" src="assets/images/inputImageNew.png">	
	<img id="mainImageTileImageId16" class="ImageTileFrame1" src="assets/images/inputImageNew.png">	
	<img id="mainImageTileImageId17" class="ImageTileFrame1" src="assets/images/inputImageNew.png">	

	<img id="mainImageTileImageId18" class="ImageTileFrame1" src="assets/images/inputImageNew.png">	
	<img id="mainImageTileImageId19" class="ImageTileFrame1" src="assets/images/inputImageNew.png">	
	<img id="mainImageTileImageId20" class="ImageTileFrame1" src="assets/images/inputImageNew.png">	
	<img id="mainImageTileImageId21" class="ImageTileFrame1" src="assets/images/inputImageNew.png">	
	<img id="mainImageTileImageId22" class="ImageTileFrame1" src="assets/images/inputImageNew.png">	
	<img id="mainImageTileImageId23" class="ImageTileFrame1" src="assets/images/inputImageNew.png">	

  </body>
</html>